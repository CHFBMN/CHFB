<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>STOP Columbia Heights Flavor Ban</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin:0;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
      background:#f8fafc;
    }
    .container {
      text-align:center;
      width:320px;
    }
    h1 { margin-bottom:20px; font-size:1.6rem; color:#111827; }
    input {
      display:block;
      width:100%;
      padding:10px;
      margin:6px 0;
      border:1px solid #cbd5e1;
      border-radius:8px;
      font-size:1rem;
    }
    .btn {
      display:block;
      width:100%;
      margin:10px auto;
      padding:14px;
      font-size:1rem;
      font-weight:600;
      border:none;
      border-radius:10px;
      cursor:pointer;
      background:#111827;
      color:#fff;
      transition:background .2s ease;
    }
    .btn:hover { background:#374151; }
    .btn-light {
      background:#e5e7eb;
      color:#111827;
    }
    .btn-light:hover { background:#d1d5db; }
    .error {
      color:#b91c1c;
      font-size:.9rem;
      margin-top:6px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>STOP Columbia Heights Flavor Ban</h1>

    <!-- User Info -->
    <input id="name" type="text" placeholder="Name (required)" />
    <input id="city" type="text" placeholder="City (required)" value="Columbia Heights" />
    <input id="zipCode" type="text" placeholder="Zip Code (required)" value="55421"/>
    <input id="phone" type="text" placeholder="Phone Number"/>

    <!-- Buttons -->
    <button id="btn1" class="btn">Send Pre-Drafted Email</button>
    <button id="btn3" class="btn btn-light">Write My Own Email</button>

    <p id="errorMsg" class="error"></p>
  </div>

  <script>


    const recipients = ["amarquezsimula@columbiaheightsmn.gov", "cbuesgens@columbiaheightsmn.gov", "LDeneen@columbiaheightsmn.gov", "rjames@columbiaheightsmn.gov", "jspriggs@columbiaheightsmn.gov", "evoight@columbiaheightsmn.gov" ];
    const subjects = [
"Stop the Columbia Heights flavor ban",
"Protect adult choice in Columbia Heights",
"Please support local businesses – vote no on the ban",
"Flavored tobacco ban will hurt local stores",
"Let adults make their own choices",
"Don’t take away legal products from adults",
"Keep Columbia Heights businesses strong",
"Vote no on the flavored product ban",
"Trust adults, not bans",
"Stand with local shops – oppose the flavor ban"
];
	const bcc = "stopmnflavorban@gmail.com";
	
    const citizenTemplates = [
`As a Columbia Heights resident,
I believe adults should have the freedom to choose legal products.
This ban limits choice and reduces city tax revenue. Please vote no.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a voter in Columbia Heights,
I ask you not to restrict responsible adults.
This ban only hurts customers and reduces local funds.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a citizen of Columbia Heights,
I see nearby cities without this ban.
People will shop elsewhere, and our city will lose money. Please reconsider.

Best,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I ask that adults be trusted to make their own choices.
Please don’t limit products already regulated by law.

Regards,
[name],
[city],
[ZipCode]
[phone]
`,

`As a concerned voter,
I worry this ban will push shoppers to other cities and hurt local stores.
Please support our businesses instead.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I know responsible stores check IDs carefully.
Please don’t punish the businesses doing the right thing.

Respectfully,
[name],
[city],
[ZipCode]
[phone]
`,

`As a local citizen,
I see that stores already follow ID laws.
This ban won’t stop youth—it will just harm our city’s economy.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights voter,
I ask you to support licensed stores that protect youth.
Don’t punish honest business owners.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a resident,
I want to remind you this ban includes cigars and pipe tobacco—
products used responsibly by adults. Please vote no.

Best,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights voter,
I ask you not to take away products adults enjoy responsibly.
Please keep them legal.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a citizen,
I feel this ban goes too far.
Adults who buy legal products responsibly shouldn’t lose their options.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I ask that you protect local shops.
This ban helps businesses in other cities, not ours.

Regards,
[name],
[city],
[ZipCode]
[phone]
`,

`As a voter,
I believe customers should decide for themselves.
Please don’t drive them to other towns with this ban.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights citizen,
I urge you not to add new restrictions
that will push people away from local stores.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a voter,
I trust adults to make responsible choices.
Please don’t take away legal products or local jobs.

Best,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I ask you to stand with small business owners.
This ban will reduce sales and tax income.

Respectfully,
[name],
[city],
[ZipCode]
[phone]
`,

`As a local citizen,
I know other cities still allow flavored products.
Please don’t make our community lose customers.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights voter,
I ask you to trust adults to make their own choices.
This ban is unfair to compliant stores.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a resident,
I’ve seen stores check IDs every day.
The problem isn’t retailers—please don’t ban legal products.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a concerned citizen,
I urge you to protect adult freedom and small business.
Please vote no on the flavor ban.

Best regards,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights voter,
I ask that adults keep their right to choose.
Businesses and customers both deserve your support.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a resident,
I believe in freedom of choice.
Please don’t let this ban take away legal products and local jobs.

Best,
[name],
[city],
[ZipCode]
[phone]
`,

`As a citizen,
I’m worried this ban removes options for responsible adults.
Please vote no and support our local stores.

Respectfully,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I’m concerned this will push shoppers to other towns.
Please protect local business.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a voter,
I ask that you keep consumer choice alive.
People will just buy elsewhere if this ban passes.

Regards,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I know adults can make responsible decisions.
Please don’t restrict legal products.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a voter,
I see nearby cities without these restrictions.
We’ll spend our money there instead—please reconsider.

Best,
[name],
[city],
[ZipCode]
[phone]
`,

`As a local resident,
I know our stores follow the law and check IDs.
Please don’t punish good businesses.

Respectfully,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights voter,
I’ve seen store clerks check every ID.
Kids aren’t buying there. Please stop this unnecessary ban.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a concerned citizen,
I urge you not to take away legal adult products used responsibly.
Please vote no.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I enjoy cigars and pipe tobacco responsibly.
Please don’t restrict products meant for adults.

Best,
[name],
[city],
[ZipCode]
[phone]
`,

`As a voter,
I value my freedom to choose.
Please don’t remove legal options from responsible adults.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights citizen,
I care about small businesses.
This ban will hurt local jobs—please protect them.

Respectfully,
[name],
[city],
[ZipCode]
[phone]
`,

`As a resident,
I know our shop owners follow every rule.
Please don’t punish honest people doing things right.

Best,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights voter,
I ask you to respect adult choice.
Please don’t take away legal, regulated products.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a citizen,
I believe banning flavors won’t stop youth—
it will just close responsible stores. Please vote no.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I’ve seen firsthand that stores follow the law.
Please don’t punish them for doing their job.

Respectfully,
[name],
[city],
[ZipCode]
[phone]
`,

`As a local voter,
I urge you to protect our community businesses and adult freedom.
Vote no on the flavor ban.

Thank you,
[name],
[city],
[ZipCode]
[phone]
`,

`As a Columbia Heights resident,
I ask you to support responsible adults and local stores.
Please reject this ban.

Sincerely,
[name],
[city],
[ZipCode]
[phone]
`,

`As a concerned voter,
I fear this ban will hurt jobs and tax revenue.
Please keep flavored tobacco products legal.

Best regards,
[name],
[city],
[ZipCode]
[phone]
`
    ];

    function encodeMailtoBody(str) {
      return encodeURIComponent(str).replace(/%0A/g, "%0D%0A");
    }

    function buildMailto(body="") {
	    let template = subjects[Math.floor(Math.random()*subjects.length)];
      const to = recipients.join(",");
      return `mailto:${to}?subject=${encodeURIComponent(template)}&bcc=${encodeURIComponent(bcc)}&body=${encodeMailtoBody(body)}`;
    }

    function personalize(template) {
      const name = document.getElementById("name").value.trim();
      const city  = document.getElementById("city").value.trim();
      const zip   = document.getElementById("zipCode").value.trim();
      let phone   = document.getElementById("phone").value.trim();

      // Validation for required fields
      if (!name || !city || !zip) {
        document.getElementById("errorMsg").textContent = "Name, City, and zip code are required.";
        return null;
      }
      if(!phone){
        phone="";
      }
      document.getElementById("errorMsg").textContent = "";


      // Replace placeholders
      return template
        .replace(/\[name\]/g, name)
        .replace(/\[city\]/g, city)
        .replace(/\[ZipCode\]/g, zip)
        .replace(/\[phone\]/g, phone);
		}

    function sendRandom(templates) {
      let template = templates[Math.floor(Math.random()*templates.length)];
      const body = personalize(template);
      if (body) {
        window.location.href = buildMailto(body);
      }
    }

    document.getElementById("btn1").onclick = () => sendRandom(citizenTemplates);
    document.getElementById("btn3").onclick = () => {
      const body = personalize(""); // validation still applies
      if (body !== null) {
        window.location.href = buildMailto(""); // blank body
      }
    };

    document.getElementById('phone').addEventListener('input', function (e) {
  let x = e.target.value.replace(/\D/g, '').substring(0,10); // remove non-digits, limit to 10
  let area = x.substring(0,3);
  let middle = x.substring(3,6);
  let last = x.substring(6,10);

  if (x.length > 6) {
    e.target.value = `(${area}) ${middle}-${last}`;
  } else if (x.length > 3) {
    e.target.value = `(${area}) ${middle}`;
  } else if (x.length > 0) {
    e.target.value = `(${area}`;
  }
});
  </script>
</body>
</html>
