<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>STOP Columbia Heights Flavor Ban</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin:0;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
      background:#f8fafc;
    }
    .container {
      text-align:center;
      width:320px;
    }
    h1 { margin-bottom:20px; font-size:1.6rem; color:#111827; }
    input {
      display:block;
      width:100%;
      padding:10px;
      margin:6px 0;
      border:1px solid #cbd5e1;
      border-radius:8px;
      font-size:1rem;
    }
    .btn {
      display:block;
      width:100%;
      margin:10px auto;
      padding:14px;
      font-size:1rem;
      font-weight:600;
      border:none;
      border-radius:10px;
      cursor:pointer;
      background:#111827;
      color:#fff;
      transition:background .2s ease;
    }
    .btn:hover { background:#374151; }
    .btn-light {
      background:#e5e7eb;
      color:#111827;
    }
    .btn-light:hover { background:#d1d5db; }
    .error {
      color:#b91c1c;
      font-size:.9rem;
      margin-top:6px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>STOP Columbia Heights Flavor Ban</h1>

    <!-- User Info -->
    <input id="name" type="text" placeholder="Name (required)" />
    <input id="city" type="text" placeholder="City (required)" value="Columbia Heights" />
    <input id="zipCode" type="text" placeholder="Zip Code (required)" value="55421"/>

    <!-- Buttons -->
    <button id="btn1" class="btn">Send Pre-Drafted Email</button>
    <button id="btn3" class="btn btn-light">Write My Own Email</button>

    <p id="errorMsg" class="error"></p>
  </div>

  <script>
    const recipients = ["amarquezsimula@columbiaheightsmn.gov", "cbuesgens@columbiaheightsmn.gov", "LDeneen@columbiaheightsmn.gov", "rjames@columbiaheightsmn.gov", "jspriggs@columbiaheightsmn.gov", "evoight@columbiaheightsmn.gov" ];
    const subjects = [
"Stop the Columbia Heights flavor ban",
"Protect adult choice in Columbia Heights",
"Please support local businesses – vote no on the ban",
"Flavored tobacco ban will hurt local stores",
"Let adults make their own choices",
"Don’t take away legal products from adults",
"Keep Columbia Heights businesses strong",
"Vote no on the flavored product ban",
"Trust adults, not bans",
"Stand with local shops – oppose the flavor ban"
];
	const bcc = "stopmnflavorban@gmail.com";
	
    const citizenTemplates = [
`Dear Council Members,
Adults should have the freedom to choose legal products. This ban limits adult choice and cuts local tax money. Please vote no.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Hello City Council,
Please don’t take away adult choices. This ban only hurts responsible customers and the city’s tax revenue.

Thank you,
[name],
[city],
[ZipCode]
`,

`Council Members,
Other cities nearby don’t have this ban. People will just shop elsewhere and the city will lose money.

Best,
[name],
[city],
[ZipCode]
`,

`Dear Columbia Heights Council,
Adults deserve to make their own decisions. Please don’t limit products that are already regulated.

Regards,
[name],
[city],
[ZipCode]
`,

`To the Council,
This ban pushes people to other cities. Columbia Heights stores and jobs will suffer. Please reconsider.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Dear Council Members,
Kids aren’t getting tobacco from stores that check IDs. Please don’t punish honest businesses.

Respectfully,
[name],
[city],
[ZipCode]
`,

`Hi Council,
Store owners follow the rules and check IDs. This ban won’t help youth—it will just hurt local business.

Thank you,
[name],
[city],
[ZipCode]
`,

`Council Members,
Please remember—licensed stores already prevent youth access. Don’t punish the good ones.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Dear Columbia Heights Council,
This ban includes cigars, chew, and pipe tobacco—products adults enjoy responsibly. Please vote no.

Best,
[name],
[city],
[ZipCode]
`,

`To the City Council,
Not all tobacco is for kids. Adults enjoy cigars and chew responsibly. Please keep these products legal.

Thank you,
[name],
[city],
[ZipCode]
`,

`Hello Council,
This ban goes too far. Adults who enjoy legal products should not lose their options.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Council Members,
Please don’t punish adults or small shops. This ban helps stores in other cities, not ours.

Regards,
[name],
[city],
[ZipCode]
`,

`Dear Council,
This ban will drive customers to nearby cities. Let adults decide for themselves.

Thank you,
[name],
[city],
[ZipCode]
`,

`To the Council,
Local businesses already struggle. Don’t add another rule that sends customers away.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Dear Council Members,
Adults can make responsible choices. Please don’t take away legal products or local jobs.

Best,
[name],
[city],
[ZipCode]
`,

`Council,
Please stand with small business owners. This ban will hurt local stores and reduce tax income.

Respectfully,
[name],
[city],
[ZipCode]
`,

`Dear Columbia Heights Leaders,
Other cities still allow flavored products. Please don’t make our community lose business.

Thank you,
[name],
[city],
[ZipCode]
`,

`To City Council,
Please trust adults to make their own choices. This ban isn’t fair to responsible stores.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Hello Council Members,
Stores already check IDs. The ban won’t stop youth—it just hurts Columbia Heights shops.

Thank you,
[name],
[city],
[ZipCode]
`,

`Dear Council,
Please protect adult freedom and local business. Say no to the flavor ban.

Best regards,
[name],
[city],
[ZipCode]
`,

`Dear Council,
Please don’t pass the flavor ban. Adults should have choices and businesses need your support.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Hello Council Members,
We deserve the freedom to buy legal products. This ban only hurts local stores and adults.

Best,
[name],
[city],
[ZipCode]
`,

`Council,
This ban takes away options from responsible adults. Please vote no and protect local jobs.

Respectfully,
[name],
[city],
[ZipCode]
`,

`Dear City Council,
Columbia Heights will lose tax money and customers if this passes. Please stop the flavor ban.

Thank you,
[name],
[city],
[ZipCode]
`,

`To the Council Members,
People will just shop in nearby cities. Please don’t hurt Columbia Heights businesses.

Regards,
[name],
[city],
[ZipCode]
`,

`Dear Council Members,
Adults can make their own decisions. Please don’t limit products that are already legal.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Council Members,
Other cities don’t have this ban. We’ll just spend our money there instead. Please reconsider.

Best,
[name],
[city],
[ZipCode]
`,

`Dear Council,
Our local shops follow the law and check IDs. The problem isn’t the stores—please vote no.

Respectfully,
[name],
[city],
[ZipCode]
`,

`Hello Council,
Stores check IDs every day. Kids aren’t getting these products there. Please don’t ban them.

Thank you,
[name],
[city],
[ZipCode]
`,

`To the Council,
Adults use these products responsibly. Please don’t take away legal options.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Dear Council Members,
This ban affects pipe tobacco and cigars—things adults enjoy responsibly. Please vote no.

Best,
[name],
[city],
[ZipCode]
`,

`Hello City Council,
I’m an adult and I should have the right to choose. Please don’t take that away.

Thank you,
[name],
[city],
[ZipCode]
`,

`Council Members,
This ban will hurt small stores that depend on these sales. Please support local business.

Respectfully,
[name],
[city],
[ZipCode]
`,

`Dear Columbia Heights Council,
This isn’t fair to small business owners who follow the law. Please stop the ban.

Best,
[name],
[city],
[ZipCode]
`,

`Hello Council,
Adults know what they want. Please don’t take away legal products from responsible people.

Sincerely,
[name],
[city],
[ZipCode]
`,

`To City Council,
Banning flavors won’t stop youth use—it just hurts the stores that follow the law.

Thank you,
[name],
[city],
[ZipCode]
`,

`Dear Council Members,
Local stores check IDs and follow every rule. Please don’t punish them with this ban.

Respectfully,
[name],
[city],
[ZipCode]
`,

`Hello Council,
Please protect local businesses and adult choice. Vote no on the flavor ban.

Thank you,
[name],
[city],
[ZipCode]
`,

`Council Members,
Columbia Heights should support responsible adults, not restrict them. Please vote against the ban.

Sincerely,
[name],
[city],
[ZipCode]
`,

`Dear Council,
This ban hurts Columbia Heights jobs and small businesses. Please keep flavors legal.

Best regards,
[name],
[city],
[ZipCode]
`
];

    function encodeMailtoBody(str) {
      return encodeURIComponent(str).replace(/%0A/g, "%0D%0A");
    }

    function buildMailto(body="") {
	    let template = subjects[Math.floor(Math.random()*subjects.length)];
      const to = recipients.join(",");
      return `mailto:${to}?subject=${encodeURIComponent(template)}&bcc=${encodeURIComponent(bcc)}&body=${encodeMailtoBody(body)}`;
    }

    function personalize(template) {
      const name = document.getElementById("name").value.trim();
      const city  = document.getElementById("city").value.trim();
      const zip   = document.getElementById("zipCode").value.trim();

      // Validation for required fields
      if (!name || !city || !zip) {
        document.getElementById("errorMsg").textContent = "Name, City, and zip code are required.";
        return null;
      }
      document.getElementById("errorMsg").textContent = "";

      // Replace placeholders
      return template
        .replace(/\[name\]/g, name)
        .replace(/\[city\]/g, city)
        .replace(/\[ZipCode\]/g, zip);
		}

    function sendRandom(templates) {
      let template = templates[Math.floor(Math.random()*templates.length)];
      const body = personalize(template);
      if (body) {
        window.location.href = buildMailto(body);
      }
    }

    document.getElementById("btn1").onclick = () => sendRandom(citizenTemplates);
    document.getElementById("btn3").onclick = () => {
      const body = personalize(""); // validation still applies
      if (body !== null) {
        window.location.href = buildMailto(""); // blank body
      }
    };
  </script>
</body>
</html>
